{"version":3,"file":"index.js","sources":["../src/index.ts"],"sourcesContent":["/* eslint-disable @typescript-eslint/explicit-module-boundary-types */\nimport { types as t, NodePath } from '@babel/core'\n\nconst elements = ['svg', 'Svg']\nconst value = t.stringLiteral('1em')\n\nconst plugin = () => ({\n  visitor: {\n    JSXOpeningElement(path: NodePath<t.JSXOpeningElement>) {\n      if (\n        !elements.some((element) =>\n          path.get('name').isJSXIdentifier({ name: element }),\n        )\n      )\n        return\n\n      const requiredAttributes = ['width', 'height']\n\n      path.get('attributes').forEach((attributePath) => {\n        if (!attributePath.isJSXAttribute()) return\n        const namePath = attributePath.get('name')\n        if (!namePath.isJSXIdentifier()) return\n        const index = requiredAttributes.indexOf(namePath.node.name)\n\n        if (index === -1) return\n\n        const valuePath = attributePath.get('value')\n        valuePath.replaceWith(value)\n        requiredAttributes.splice(index, 1)\n      })\n\n      path.pushContainer(\n        'attributes',\n        requiredAttributes.map((attr) =>\n          t.jsxAttribute(t.jsxIdentifier(attr), value),\n        ),\n      )\n    },\n  },\n})\n\nexport default plugin\n"],"names":["t"],"mappings":";;;;AAGA,MAAM,WAAW,CAAC,OAAO;AACzB,MAAM,QAAQA,WAAE,cAAc;MAExB,SAAS;AAAO,EACpB,SAAS;AAAA,IACP,kBAAkB,MAAqC;AACrD,UACE,CAAC,SAAS,KAAK,CAAC,YACd,KAAK,IAAI,QAAQ,gBAAgB,EAAE,MAAM;AAG3C;AAEF,YAAM,qBAAqB,CAAC,SAAS;AAErC,WAAK,IAAI,cAAc,QAAQ,CAAC,kBAAkB;AAChD,YAAI,CAAC,cAAc;AAAkB;AACrC,cAAM,WAAW,cAAc,IAAI;AACnC,YAAI,CAAC,SAAS;AAAmB;AACjC,cAAM,QAAQ,mBAAmB,QAAQ,SAAS,KAAK;AAEvD,YAAI,UAAU;AAAI;AAElB,cAAM,YAAY,cAAc,IAAI;AACpC,kBAAU,YAAY;AACtB,2BAAmB,OAAO,OAAO;AAAA;AAGnC,WAAK,cACH,cACA,mBAAmB,IAAI,CAAC,SACtBA,WAAE,aAAaA,WAAE,cAAc,OAAO;AAAA;AAAA;AAAA;;;;"}